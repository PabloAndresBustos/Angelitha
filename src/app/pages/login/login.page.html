<ion-content [fullscreen]="true">
  <form class="ion-margin" style="display: flex; flex-direction: column; width: 100%; margin: 10% auto;"
    [formGroup]="loginForm">
    <img src="assets/logos/angelita-transparente.png" alt="logo" style="width: 30%; margin: 0 auto;">
    <div style="display: flex; flex-direction: column; width: 80%; margin: 30px auto;">

      <!-- Email -->
      <ion-item>
        <ion-icon slot="start" name="person-outline" />
        <ion-input type="text" label="Usuario" labelPlacement="floating" [formControl]="loginForm.controls.email" />
      </ion-item>

      <!-- Password -->
      <ion-item>
        <ion-icon slot="start" name="lock-closed-outline" />
        <ion-input [type]="type" label="Contrase単a" labelPlacement="floating"
          [formControl]="loginForm.controls.password" />
        <ion-button (click)="showHidePassword()" slot="end" fill="clear" shape="round">
          <ion-icon slot="icon-only" [name]="hide ? 'eye-outline' : 'eye-off-outline'" size="large"></ion-icon>
        </ion-button>
      </ion-item>
    </div>

    <!-- Validaciones de correo y contrase単a -->

    @if(loginForm.controls.email.errors && loginForm.controls.email.touched){
    <app-validator-form [slot]="'start'" [message]="'El correo es obligatorio'"
      [showMessage]="loginForm.controls.email.errors?.['required']" />

    <app-validator-form [slot]="'start'" [message]="'Verifica el correo ingresado.'"
      [showMessage]="loginForm.controls.email.errors?.['email']" />
    }

    @if (loginForm.controls.password.errors && loginForm.controls.password.touched) {
    <app-validator-form [slot]="'start'" [message]="'No olvides ingresar la contrase単a.'"
      [showMessage]="loginForm.controls.password.errors?.['required']" />

    <app-validator-form [slot]="'start'" [message]="'No olvides ingresar la contrase単a.'"
      [showMessage]="loginForm.controls.password.errors?.['touched']" />
    }

    <ion-button expand="block" shape="round" type="submit" color="warning" style="width: 40%; margin: 10px auto;"
      (click)="login()" [disabled]="this.loginForm.invalid">
      INGRESAR
    </ion-button>
    <ion-button (click)="goToHome()" expand="block" fill="clear" shape="round" style="width: 40%; margin: 10px auto;">
      Cancelar
    </ion-button>
  </form>
</ion-content>